import{f as B,r as x,a as h,b as F,c as D,d as O,e as Z}from"./assets/render-functions-BY64Jt2m.js";import{a as j,i as v}from"./assets/vendor-D2ogNlHo.js";const b=document.getElementById("footerSubscribeForm");if(b){let o=function(m){return/^\w+(\.\w+)?@[a-zA-Z_]+?\.[a-zA-Z]{2,3}$/.test(m)},r=function(m){v.success({title:"Success",message:m,position:"topRight",timeout:5e3})},c=function(m){v.error({title:"Error",message:m,position:"topRight",timeout:5e3})};const t=b.querySelector('input[name="email"]'),e=b.querySelector('button[type="submit"]');b.addEventListener("submit",s);async function s(m){m.preventDefault();const C=t.value.trim();if(!o(C)){c("Invalid email address");return}try{e.disabled=!0;const L=await j.post("https://your-energy.b.goit.study/api/subscription",{email:C},{headers:{"Content-Type":"application/json"}});L.status===201&&(r(L.data.message),b.reset())}catch(L){L.response?c(L.response.data.message||"Subscription failed"):c("Network error. Please try again.")}finally{e.disabled=!1}}}const p=document.getElementById("scroll-top"),W=()=>{window.scrollTo({top:0,behavior:"smooth"})},z=()=>{const t=window.scrollY,e=document.querySelector("footer");if(t>window.innerHeight)if(p.classList.add("scroll-show"),e){const s=e.getBoundingClientRect();if(s.top<window.innerHeight){const o=window.innerHeight-s.top;p.style.bottom=o+50+"px"}else p.style.bottom="30px"}else p.style.bottom="30px";else p.classList.remove("scroll-show"),p.style.bottom="30px"};window.addEventListener("scroll",z);window.addEventListener("resize",z);p.addEventListener("click",W);function q(t){if(!t)return;let e=t.querySelector(".local-loader-wrapper");e||(e=document.createElement("div"),e.classList.add("local-loader-wrapper"),e.innerHTML=`
      <div class="hypnotic"></div>
    `,t.style.position="relative",t.appendChild(e)),e.classList.remove("hidden")}function P(t){if(!t)return;const e=t.querySelector(".local-loader-wrapper");e&&e.classList.add("hidden")}const H=["Muscles","Body parts","Equipment"],_=375,A=document.documentElement.clientWidth<=_,N=document.querySelector("span.slash"),Q=document.querySelector("p.current-category"),T=document.querySelector("div.no-content-warning"),R=document.querySelector("ul.filters-list"),y=document.querySelector("ul.block-categories-list"),k=document.querySelector("ul.exercises-list"),n=document.querySelector("ul.pagination-controls-list"),E=document.querySelector("form.search-form"),V=E.querySelector(".search-input"),S=document.querySelector("button.clear-btn"),u=document.getElementById("categories-section"),$=document.querySelector("a.nav-link");$.classList.add("nav-link--active");let g=H[0],l="",f="",a=1,w=1,Y=A?9:12,i=1,d=1,I=A?8:10;E.addEventListener("input",t=>{f=t.target.value,f.length?S.classList.remove("visually-hidden"):S.classList.add("visually-hidden")});E.addEventListener("submit",async t=>{t.preventDefault(),q(u);try{const e=await B(g,l,f,i,I),{results:s,page:o,totalPages:r}=e;d=r,i=o,n.innerHTML="",x(s,k),s.length>0&&h(d,i,n)}catch(e){v.error({icon:"",position:"topRight",message:e.message})}finally{P(u)}});S.addEventListener("click",async()=>{f="",V.value="",S.classList.add("visually-hidden"),x(results,k),h(d,i,n),M()});async function M(){y.innerHTML="",k.innerHTML="",n.innerHTML="",q(u);try{const t=await F(g,a,Y),{results:e,page:s,totalPages:o}=t;w=o,a=s,D(e,y),e.length>0&&h(w,a,n),T.classList.contains("visually-hidden")||T.classList.add("visually-hidden")}catch(t){T.classList.remove("visually-hidden"),v.error({icon:"",position:"topRight",message:t.message})}finally{P(u)}}R.addEventListener("click",G);function G(t){const e=t.target.closest(".filters-list-item");e&&(y.classList.remove("visually-hidden"),g=e.dataset.option,a=1,M(),O(H,g,R),E.classList.add("visually-hidden"),f="",l="",V.value="",Q.textContent=l,N.classList.add("visually-hidden"))}async function J(t){const e=t.target.closest(".categories-item");if(e){y.classList.add("visually-hidden"),q(u),l=e.dataset.name;try{const s=await B(g,l,f,i,I),{results:o,page:r,totalPages:c}=s;d=c,i=r,y.innerHTML="",n.innerHTML="",x(o,k),o.length>0&&(h(d,i,n),E.classList.remove("visually-hidden")),Q.textContent=l,N.classList.remove("visually-hidden")}catch(s){v.error({icon:"",position:"topRight",message:s.message})}finally{P(u)}}}async function K(t){const e=t.target.closest("button[data-page]");if(e){q(u);try{if(l){switch(e.dataset.page){case"beg":i=1;break;case"prev":i--;break;case"next":i++;break;case"end":i=d;break;default:i=parseInt(e.dataset.page,10)}const s=await B(g,l,f,i,I),{results:o,page:r,totalPages:c}=s;d=c,i=r,x(o,k),h(d,i,n)}else{switch(e.dataset.page){case"beg":a=1;break;case"prev":a--;break;case"next":a++;break;case"end":a=w;break;default:a=parseInt(e.dataset.page,10)}const s=await F(g,a,Y),{results:o,page:r,totalPages:c}=s;w=c,a=r,D(o,y),h(w,a,n)}}catch(s){v.error({icon:"",position:"topRight",message:s.message})}finally{P(u)}}}O(H,g,R);M();y.addEventListener("click",J);n.addEventListener("click",K);document.addEventListener("DOMContentLoaded",Z);
//# sourceMappingURL=index.js.map
