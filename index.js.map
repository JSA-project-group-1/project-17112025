{"version":3,"file":"index.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/js/main-home.js"],"sourcesContent":["import axios from 'axios';\naxios.defaults.baseURL = 'https://your-energy.b.goit.study/api/';\n\nexport async function fetchCategories(filter = 'Muscles', page = '1', limit = '12') {\n  const response = await axios.get(\n    `/filters`, {\n    params: {\n      filter,\n      page,\n      limit,\n    }\n  }\n  )\n  return response.data;\n}\n\nexport async function fetchExercises(bodypart,\n  muscles,\n  equipment,\n  keyword,\n  page = 1,\n  limit = 10,) {\n  const response = await axios.get(\n    `/exercises`, {\n    params: {\n      bodypart,\n      muscles,\n      equipment,\n      keyword,\n      page,\n      limit,\n    }\n  }\n  )\n  return response.data;\n}\n\n// https://your-energy.b.goit.study/api/filters?filter=Muscles&page=1&limit=12\n// https://your-energy.b.goit.study/api/exercises?bodypart=back&muscles=lats&equipment=barbell&keyword=pull&page=1&limit=10","export function renderCategories(categories, list) {\n  const markup = categories\n    .map(({ filter, imgURL, name }) => {\n      return `\n          <li class=\"categories-item\" data-name=\"${name}\">\n            <img\n            class=\"category-image\"\n            src=\"${imgURL}\"\n            alt=\"${name}\"\n          />\n          <div class=\"categories-item-info\">\n            <h3>${name}</h3>\n            <p>${filter}</p>\n            </div>\n          </li>\n      `;\n    })\n    .join(\"\");\n  list.innerHTML = markup;\n}\n\nexport function renderExercises(exercises, list) {\n  const markup = exercises\n    .map(({ _id, name, target, bodyPart, burnedCalories, rating }) => {\n      return `\n          <li class=\"exercises-item\">\n            <p>_id: ${_id}</p>\n            <p>name: ${name}</p>\n            <p>target: ${target}</p>\n            <p>bodyPart: ${bodyPart}</p>\n            <p>burnedCalories: ${burnedCalories}</p>\n            <p>rating: ${rating}</p>\n          </li>\n      `;\n    })\n    .join(\"\");\n  list.innerHTML = markup;\n}\n\nexport function renderPagination(pages, activePage, list) {\n  const pagesData = Array.from({ length: pages }, (_, i) => i + 1);\n  const markup = pagesData\n    .map((page) => {\n      return `\n          <li class=\"pagination-control-item\">\n            <button class=\"${activePage === page ? 'pagination-control-active' : 'pagination-control'}\">${page}</button>\n          </li>\n      `;\n    })\n    .join(\"\");\n  list.innerHTML = markup;\n}\n\nexport function renderFilter(options, activeOption, list) {\n  const markup = options\n    .map((option) => {\n      return `\n          <li class=\"filters-list-item ${activeOption === option ? \"filters-list-item-active\" : \"\"}\" data-option=\"${option}\"><p>${option}</p></li>\n      `;\n    })\n    .join(\"\");\n  list.innerHTML = markup;\n}","import iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\n\nimport { fetchCategories, fetchExercises } from \"./pixabay-api\"\nimport { renderCategories, renderExercises, renderPagination, renderFilter } from \"./render-functions\";\n\nimport '/css/pages/home.css';\n\nconst filterOptions = [\"Muscles\", \"Body parts\", \"Equipment\"]\nconst mobileBreakpoint = 375;\nconst filtersList = document.querySelector(\"ul.filters-list\");\nconst categoriesList = document.querySelector(\"ul.block-categories-list\");\nconst exercisesList = document.querySelector(\"ul.exercises-list\");\nconst paginationList = document.querySelector(\"ul.pagination-controls-list\");\nconst loader = document.querySelector(\"span.loader\");\nconst isMobile = document.documentElement.clientWidth <= mobileBreakpoint;\n\nlet currentCategory = filterOptions[0]\n\nasync function loadAndRenderCategoriesList() {\n  categoriesList.innerHTML = '';\n  paginationList.innerHTML = '';\n  loader.classList.remove('visually-hidden');\n  try {\n    const categories = await fetchCategories(currentCategory, '1', `${isMobile ? 9 : 12}`);\n    const { results, page, totalPages } = categories;\n    renderCategories(results, categoriesList)\n    renderPagination(Number(totalPages), Number(page), paginationList)\n    loader.classList.add('visually-hidden');\n  }\n  catch (error) {\n    loader.classList.add('visually-hidden');\n    iziToast.error({\n      icon: '',\n      position: 'topRight',\n      message: error.message\n    })\n  }\n}\n\nfiltersList.addEventListener('click', onFiltersListClick);\nfunction onFiltersListClick(event) {\n  const clickedItem = event.target.closest('.filters-list-item');\n  if (clickedItem) {\n    const filterOption = clickedItem.dataset.option;\n    currentCategory = filterOption\n    renderFilter(filterOptions, currentCategory, filtersList)\n    loadAndRenderCategoriesList()\n  }\n}\n\ncategoriesList.addEventListener('click', onCategoryClick);\n\nasync function onCategoryClick(event) {\n  const clickedItem = event.target.closest('.categories-item');\n  if (clickedItem) {\n    const categoryName = clickedItem.dataset.name;\n    const exercises = await fetchExercises(\"back\", \"lats\", \"barbell\", \"pull\",)\n    console.log(exercises);\n    const { results, page, totalPages } = exercises;\n    categoriesList.innerHTML = '';\n    paginationList.innerHTML = '';\n    renderExercises(results, exercisesList)\n    renderPagination(Number(totalPages), Number(page), paginationList)\n\n  }\n}\n\n\nrenderFilter(filterOptions, currentCategory, filtersList)\nloadAndRenderCategoriesList()\n"],"names":["axios","fetchCategories","filter","page","limit","fetchExercises","bodypart","muscles","equipment","keyword","renderCategories","categories","list","markup","imgURL","name","renderExercises","exercises","_id","target","bodyPart","burnedCalories","rating","renderPagination","pages","activePage","_","i","renderFilter","options","activeOption","option","filterOptions","mobileBreakpoint","filtersList","categoriesList","exercisesList","paginationList","loader","isMobile","currentCategory","loadAndRenderCategoriesList","results","totalPages","error","iziToast","onFiltersListClick","event","clickedItem","onCategoryClick"],"mappings":"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"}